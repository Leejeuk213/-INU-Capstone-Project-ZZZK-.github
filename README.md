# 가속도 센서 기반 수면 자세 개선 실시간 피드백 시스템
---

[개발 저장소 바로가기](https://github.com/INU-Capstone-Project-ZZZK/Project_Github)


[개발 일지 바로가기](https://inu-capstone-project-zzzk.github.io/)  

## 개발 배경  

척추건강과 역류성 식도염 환자를 위한 수면자세 개선 디바이스를 만들고자 한다.  

우리 디바이스의 핵심 기술은 사용자의 수면단계, 수면자세를 기반으로 적절한 진동 자극을 가해 사용자의 수면자세를 바꾸는 것이다.  

가속도 센서를 기반으로 수면 단계와 수면 자세를 결정하고 사용자에게 잠을 방해하지 않는 선에서 정자세 그리고 좌측을 보며 누은 자세를 취할 수 있게 유도한다.  

## 아키텍처  

전체적인 아키텍처는 다음과 같다.  

![Untitled](/images/architecture.PNG)  

사용자가 이용하는 인터페이스는 Flutter로 개발된 앱이며, 각 디바이스에서 송신하는 시그널을 라즈베리파이 피코 W Flutter 간 블루투스 통신을 통해 전달받는다.   

통신방법으로 블루투스를 선택한 이유는, 소켓을 이용한 TCP/IP는 라우터를 비롯한 로컬 네트워크가 필요하기 때문이다. 반면 블루투스의 경우 별도 로컬 네트워크가 필요없다는 장점이 존재하고, 일반적으로 사람이 수면 시 스마트폰이 몸 근처에 위치하는 거리는 블루투스로도 충분히 통신이 가능하다.  

Flutter 앱에는 사전에 학습된 3가지의 추론 모델이 내장되어 있으며, 모바일 환경에서 구동되는 만큼 Tensorflow Lite를 이용한 경량화 모델을 이용할 것이다.  


## 완성된 디바이스  

총 두 개의 디바이스를 제작하였으며 각각 가슴 그리고 손목에 착용된다.  

가슴에 착용되는 디바이스는 수면 단계, 수면자세 측정에 사용되고 수면 자세 변경 진동을 준다.   

손목에 착용되는 디바이스는 수면 단계, 수면자세 측정에 사용된다.  

![Untitled](/images/device1.png)  
![Untitled](/images/device2.png)  



## 딥러닝 모델 구조, 전처리 및 결과  

## 수면 단계 판별 알고리즘  

## 실제 측정 및 결과  

## 후기 


